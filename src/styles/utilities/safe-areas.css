
/* FIXED: Comprehensive Safe Area Implementation */

/* Basic safe area classes */
.safe-top {
  padding-top: max(var(--safe-area-inset-top), 0px);
}

.safe-bottom {
  padding-bottom: max(var(--safe-area-inset-bottom), 0px);
}

.safe-left {
  padding-left: max(var(--safe-area-inset-left), 0px);
}

.safe-right {
  padding-right: max(var(--safe-area-inset-right), 0px);
}

.safe-x {
  padding-left: max(var(--safe-area-inset-left), 0px);
  padding-right: max(var(--safe-area-inset-right), 0px);
}

.safe-y {
  padding-top: max(var(--safe-area-inset-top), 0px);
  padding-bottom: max(var(--safe-area-inset-bottom), 0px);
}

/* FIXED: Enhanced mobile navigation safe area */
.mobile-safe-bottom {
  padding-bottom: calc(var(--mobile-nav-total-height) + max(var(--safe-area-inset-bottom), 0px));
}

/* FIXED: Content container with proper mobile spacing */
.mobile-content-spacing {
  padding-bottom: calc(2rem + var(--mobile-nav-total-height));
}

/* FIXED: Modal safe area utilities for mobile */
@media (max-width: 768px) {
  .modal-safe-top {
    padding-top: max(var(--safe-area-inset-top, 0px) + 1rem, 1rem);
  }
  
  .modal-close-safe {
    top: max(var(--safe-area-inset-top, 0px) + 1rem, 1rem);
    right: max(var(--safe-area-inset-right, 0px) + 1rem, 1rem);
  }
}

/* FIXED: PWA mode safe area handling */
@media (display-mode: standalone) {
  body {
    padding-top: var(--safe-area-inset-top);
    padding-bottom: var(--safe-area-inset-bottom);
  }
  
  /* Enhanced modal close button positioning in PWA mode */
  .modal-close-safe {
    top: max(var(--safe-area-inset-top, 0px) + 1.25rem, 1.25rem);
    right: max(var(--safe-area-inset-right, 0px) + 1rem, 1rem);
  }
}

/* FIXED: iOS specific safe area handling */
@supports (-webkit-touch-callout: none) {
  body {
    min-height: -webkit-fill-available;
    padding-top: var(--safe-area-inset-top);
    padding-bottom: var(--safe-area-inset-bottom);
  }
}
